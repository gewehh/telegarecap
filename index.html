<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–¢–≤–æ–∏ –∏—Ç–æ–≥–∏ 2025 –≥–æ–¥–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .header {
            text-align: center;
            padding: 30px 0;
        }

        .title {
            font-size: clamp(24px, 6vw, 32px);
            font-weight: 900;
            color: #fff;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
            margin-bottom: 10px;
            letter-spacing: 0.5px;
        }

        .subtitle {
            font-size: clamp(14px, 4vw, 18px);
            color: rgba(255,255,255,0.9);
            font-weight: 600;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 30px 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin: 20px 0;
            position: relative;
        }

        .screen {
            display: none;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .spinner {
            width: 60px;
            height: 60px;
            margin: 20px auto;
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .screen-title {
            font-size: clamp(20px, 5vw, 28px);
            font-weight: 800;
            color: #2d3748;
            margin: 20px 0;
        }

        .screen-text {
            font-size: clamp(14px, 3.5vw, 16px);
            color: #4a5568;
            line-height: 1.6;
            margin: 15px 0;
        }

        .big-emoji {
            font-size: clamp(80px, 20vw, 120px);
            margin: 20px 0;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .progress-container {
            background: #e2e8f0;
            height: 12px;
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            border-radius: 20px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .count-display {
            font-size: clamp(40px, 10vw, 60px);
            font-weight: 900;
            color: #667eea;
            margin: 15px 0;
        }

        .ref-link-box {
            background: #f7fafc;
            border: 2px dashed #cbd5e0;
            border-radius: 12px;
            padding: 15px;
            margin: 20px 0;
            word-break: break-all;
            font-size: clamp(12px, 3vw, 14px);
            color: #2d3748;
            font-family: 'Courier New', monospace;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 16px 32px;
            font-size: clamp(15px, 4vw, 18px);
            font-weight: 700;
            width: 100%;
            margin: 10px 0;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            touch-action: manipulation;
        }

        .btn:active {
            transform: scale(0.95);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #48bb78, #38a169);
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.4);
        }

        .badge {
            display: inline-block;
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: clamp(12px, 3vw, 14px);
            font-weight: 700;
            margin: 5px;
            box-shadow: 0 4px 15px rgba(240, 147, 251, 0.4);
        }

        .countdown-box {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            padding: 30px 20px;
            border-radius: 20px;
            margin: 20px 0;
            box-shadow: 0 15px 40px rgba(245, 87, 108, 0.4);
        }

        .countdown-timer {
            font-size: clamp(28px, 7vw, 48px);
            font-weight: 900;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea15, #764ba215);
            padding: 20px;
            border-radius: 16px;
            transition: transform 0.3s ease;
        }

        .stat-card:active {
            transform: scale(0.95);
        }

        .stat-icon {
            font-size: clamp(32px, 8vw, 48px);
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: clamp(12px, 3vw, 14px);
            color: #4a5568;
            font-weight: 600;
        }

        .success-box {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 20px;
            border-radius: 16px;
            margin: 20px 0;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(72, 187, 120, 0.3);
        }

        .warning-box {
            background: #fef5e7;
            border: 2px solid #f39c12;
            color: #7d6608;
            padding: 20px;
            border-radius: 16px;
            margin: 20px 0;
            font-weight: 600;
        }

        .confetti {
            position: fixed;
            font-size: 30px;
            pointer-events: none;
            z-index: 999;
            animation: confetti-fall 2s ease-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-20px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* –°–Ω–µ–∂–∏–Ω–∫–∏ */
        .snowflake {
            position: fixed;
            color: white;
            font-size: 20px;
            opacity: 0.8;
            pointer-events: none;
            animation: fall 10s linear infinite;
            z-index: 1;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div style="font-size: 60px; margin-bottom: 10px;">üéÑ</div>
            <h1 class="title">–¢–≤–æ–∏ –∏—Ç–æ–≥–∏ 2025 –≥–æ–¥–∞</h1>
            <p class="subtitle">‚ú® –≤ Telegram ‚ú®</p>
        </div>

        <div class="card">
            <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ -->
            <div class="screen active" id="checkingScreen">
                <div class="spinner"></div>
                <div class="screen-title">–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫–∏...</div>
                <div class="screen-text">–ü–æ–¥–æ–∂–¥–∏ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥</div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –ø–æ–¥–ø–∏—Å–∫–∏ -->
            <div class="screen" id="subscriptionScreen">
                <div style="font-size: 60px; margin: 20px 0;">‚ö†Ô∏è</div>
                <div class="screen-title">–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å–∫–∞</div>
                <div class="screen-text">
                    –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª –≤ –±–æ—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                </div>
                <button class="btn" onclick="window.Telegram.WebApp.close()">
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –±–æ—Ç
                </button>
            </div>

            <!-- –≠–∫—Ä–∞–Ω —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ -->
            <div class="screen" id="referralScreen">
                <div class="big-emoji">üéÅ</div>
                <div class="screen-title">–ü—Ä–∏–≥–ª–∞—Å–∏ 1 –¥—Ä—É–≥–∞</div>
                <div class="screen-text">
                    –ü–æ–¥–µ–ª–∏—Å—å —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–≥–æ–º, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏—Ç–æ–≥–∞–º
                </div>

                <div class="progress-container">
                    <div class="progress-bar" id="progressBar" style="width: 0%"></div>
                </div>

                <div class="count-display">
                    <span id="refCount">0</span><span style="opacity: 0.5; font-size: 0.7em;"> / 1</span>
                </div>

                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin: 15px 0;">
                    <span class="badge">üéØ –õ–µ–≥–∫–æ</span>
                    <span class="badge">‚ö° –ë—ã—Å—Ç—Ä–æ</span>
                    <span class="badge">üíé –≠–∫—Å–∫–ª—é–∑–∏–≤</span>
                </div>

                <div class="ref-link-box" id="refLink">
                    –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Å—ã–ª–∫–∏...
                </div>

                <button class="btn" onclick="shareLink()">
                    üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π
                </button>

                <button class="btn btn-secondary" onclick="checkProgress()">
                    üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
                </button>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="screen" id="loadingScreen">
                <div class="spinner"></div>
                <div class="screen-title">–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è...</div>
                <div class="screen-text">–≠—Ç–æ –∑–∞–π–º–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –ø–æ–¥–∞—Ä–∫–∞ -->
            <div class="screen" id="giftScreen">
                <div class="big-emoji">üéâ</div>
                <div class="screen-title">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</div>
                <div class="screen-text">
                    –¢–≤–æ–π –ø–æ–¥–∞—Ä–æ–∫ –≥–æ—Ç–æ–≤!<br>
                    –ò—Ç–æ–≥–∏ 2025 –≥–æ–¥–∞ –≥–æ—Ç–æ–≤—è—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è
                </div>

                <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin: 20px 0;">
                    <span class="badge">‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞</span>
                    <span class="badge">‚úÖ –î—Ä—É–≥</span>
                    <span class="badge">‚úÖ –ì–æ—Ç–æ–≤–æ</span>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∏—Ç–æ–≥–æ–≤ -->
            <div class="screen" id="resultScreen">
                <div class="screen-title">üìÖ –°–ª–µ–¥–∏ –∑–∞ –¥–∞—Ç–æ–π!</div>
                <div class="screen-text">
                    –¢–≤–æ–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∏—Ç–æ–≥–∏ 2025 –≥–æ–¥–∞ –±—É–¥—É—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã:
                </div>

                <div class="countdown-box">
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 15px;">
                        30 –¥–µ–∫–∞–±—Ä—è 2025 –≥–æ–¥–∞
                    </div>
                    <div class="countdown-timer" id="countdown">
                        –ó–∞–≥—Ä—É–∑–∫–∞...
                    </div>
                    <div style="font-size: 50px; margin-top: 15px;">üéÅ</div>
                </div>

                <div class="screen-text" style="margin: 20px 0;">
                    –ú—ã –≥–æ—Ç–æ–≤–∏–º –¥–ª—è —Ç–µ–±—è —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ! ‚ú®
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-label">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üòÇ</div>
                        <div class="stat-label">–≠–º–æ–¥–∑–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üåô</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                    </div>
                </div>

                <div class="success-box">
                    ‚úÖ –¢—ã –≤ —Å–ø–∏—Å–∫–µ! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è 30 –¥–µ–∫–∞–±—Ä—è!
                </div>
            </div>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();
        tg.setHeaderColor('#667eea');
        tg.setBackgroundColor('#667eea');

        const BOT_USERNAME = 'itogigodatgrobot';
        const API_URL = 'https://gewehh.github.io/telegarecap/'; // –í–ê–ñ–ù–û: –ò–∑–º–µ–Ω–∏ –Ω–∞ —Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä!
        
        let userId = null;
        let startParam = null;

        if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
            userId = tg.initDataUnsafe.user.id;
            startParam = tg.initDataUnsafe.start_param;
        }

        // –°–æ–∑–¥–∞—Ç—å —Å–Ω–µ–∂–∏–Ω–∫–∏
        function createSnow() {
            for (let i = 0; i < 20; i++) {
                const snow = document.createElement('div');
                snow.className = 'snowflake';
                snow.innerHTML = ['‚ùÑ', '‚ùÖ', '‚ùÜ'][Math.floor(Math.random() * 3)];
                snow.style.left = Math.random() * 100 + '%';
                snow.style.animationDuration = (Math.random() * 10 + 10) + 's';
                snow.style.animationDelay = Math.random() * 5 + 's';
                document.body.appendChild(snow);
            }
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–æ–≤
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫
        async function checkSubscription() {
            if (!userId) return false;
            
            try {
                const res = await fetch(`${API_URL}/api/check_subscription`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ user_id: userId })
                });
                
                const data = await res.json();
                return data.subscribed;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫:', e);
                return false;
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
        async function checkReferrals() {
            if (!userId) return 0;
            
            try {
                const res = await fetch(`${API_URL}/api/check_referrals`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ user_id: userId })
                });
                
                const data = await res.json();
                console.log('–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:', data);
                return data.referral_count || 0;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:', e);
                return 0;
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–∞
        async function saveReferral() {
            if (!startParam || !userId || startParam === userId.toString()) return;
            
            try {
                await fetch(`${API_URL}/api/save_referral`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        inviter_id: parseInt(startParam),
                        invited_id: userId
                    })
                });
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª–∞:', e);
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏
        function generateLink() {
            return userId ? `https://t.me/${BOT_USERNAME}?start=${userId}` : '';
        }

        // –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
        function shareLink() {
            const link = generateLink();
            const text = `üéÑ –ü–æ–ª—É—á–∏ —Å–≤–æ–∏ –∏—Ç–æ–≥–∏ 2025 –≥–æ–¥–∞ –≤ Telegram!\n\n‚ú® –£–∑–Ω–∞–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —Ç–æ–ø –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!\n\nüëâ ${link}`;
            
            tg.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent(text)}`);
            
            createConfetti();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
        function updateProgress(count) {
            document.getElementById('refCount').textContent = count;
            document.getElementById('progressBar').style.width = (count * 100) + '%';
            
            if (count >= 1) {
                createConfetti();
                setTimeout(() => {
                    showScreen('loadingScreen');
                    setTimeout(() => showScreen('giftScreen'), 3000);
                    setTimeout(() => showScreen('resultScreen'), 8000);
                }, 1500);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
        async function checkProgress() {
            const count = await checkReferrals();
            updateProgress(count);
            
            if (count < 1) {
                tg.showAlert(`–£ —Ç–µ–±—è ${count} –∏–∑ 1 –¥—Ä—É–≥–∞.\n\n–ü—Ä–æ–¥–æ–ª–∂–∞–π –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å! üöÄ`);
            }
        }

        // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
        function createConfetti() {
            const emojis = ['üéâ', '‚ú®', 'üéä', 'üéà', 'üéÅ', '‚≠ê', 'üíé'];
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const c = document.createElement('div');
                    c.className = 'confetti';
                    c.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                    c.style.left = Math.random() * 100 + 'vw';
                    c.style.top = Math.random() * 50 + 'vh';
                    document.body.appendChild(c);
                    setTimeout(() => c.remove(), 2000);
                }, i * 50);
            }
        }

        // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç
        function updateCountdown() {
            const target = new Date('2025-12-30T00:00:00').getTime();
            const now = new Date().getTime();
            const diff = target - now;

            if (diff <= 0) {
                document.getElementById('countdown').textContent = 'üéâ –£–ñ–ï –î–û–°–¢–£–ü–ù–û!';
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const secs = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('countdown').textContent = 
                `${days}–¥ ${hours}—á ${mins}–º ${secs}—Å`;
        }

        // –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
        async function init() {
            await saveReferral();
            
            await new Promise(r => setTimeout(r, 2000));
            
            const hasSub = await checkSubscription();
            
            if (!hasSub) {
                showScreen('subscriptionScreen');
                return;
            }

            const refCount = await checkReferrals();
            
            if (refCount < 1) {
                showScreen('referralScreen');
                updateProgress(refCount);
                document.getElementById('refLink').textContent = generateLink();
                
                // –ê–≤—Ç–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
                setInterval(async () => {
                    const count = await checkReferrals();
                    if (count >= 1 && document.getElementById('referralScreen').classList.contains('active')) {
                        updateProgress(count);
                    }
                }, 10000);
                
                return;
            }

            showScreen('loadingScreen');
            await new Promise(r => setTimeout(r, 3000));
            
            showScreen('giftScreen');
            await new Promise(r => setTimeout(r, 5000));
            
            showScreen('resultScreen');
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // –ó–∞–ø—É—Å–∫
        window.onload = () => {
            createSnow();
            init();
        };
    </script>
</body>
</html>
